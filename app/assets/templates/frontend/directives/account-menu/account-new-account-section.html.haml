%h3{"ng-click" => "showForm = !showForm"}
  %a Add a sync account
%div{"ng-if" => "showForm"}
  %p Enter your <a href="https://standardnotes.org" target="_blank">Standard File</a> account information.
  .small-v-space

  %form.account-form{'name' => "loginForm"}
    %input.form-control{:name => 'server', :placeholder => 'Server URL', :required => true, :type => 'text', 'ng-model' => 'formData.url'}
    %input.form-control{:autofocus => 'autofocus', :name => 'email', :placeholder => 'Email', :required => true, :type => 'email', 'ng-model' => 'formData.email'}
    %input.form-control{:placeholder => 'Password', :name => 'password', :required => true, :type => 'password', 'ng-model' => 'formData.user_password'}

    %div{"ng-if" => "!formData.status"}
      .checkbox{"ng-if" => "localNotesCount() > 0"}
        %label
          %input{"type" => "checkbox", "ng-model" => "formData.mergeLocal", "ng-bind" => "true", "ng-change" => "mergeLocalChanged()"}
            Merge local notes ({{localNotesCount()}} notes)
      %button.btn.dark-button.half-button{"ng-click" => "loginSubmitPressed()", "data-style" => "expand-right", "data-size" => "s", "state" => "buttonState"}
        %span Sign In
      %button.btn.dark-button.half-button{"ng-click" => "submitRegistrationForm()", "data-style" => "expand-right", "data-size" => "s", "state" => "buttonState"}
        %span Register
      %br
      .block{"style" => "margin-top: 10px; font-size: 14px; font-weight: bold; text-align: center;"}
        %a.btn{"ng-click" => "showResetForm = !showResetForm"} Passwords cannot be forgotten.

  %div{"ng-if" => "!formData.status"}
    %label.center-align.block.faded — OR —
    %a.block.center-align.medium-text{"ng-if" => "!formData.showAddLinkForm", "ng-click" => "formData.showAddLinkForm = true"} Add sync using secret link
    %form{"ng-if" => "formData.showAddLinkForm"}
      %input.form-control{:autofocus => 'autofocus', :name => 'url', :placeholder => 'Secret URL', :required => true, :type => 'url', 'ng-model' => 'formData.secretUrl'}
      %button.btn.dark-button.btn-block{"ng-click" => "submitExternalSyncURL()"}
        Add Sync Account
      %a.block.center-align.mt-5{"ng-click" => "formData.showAddLinkForm = false"} Cancel

  %em.block.center-align.mt-10{"ng-if" => "formData.status", "style" => "font-size: 14px;"} {{formData.status}}

  %div{"ng-if" => "showResetForm"}
    %p{"style" => "font-size: 13px; text-align: center;"}
      Because notes are locally encrypted using a secret key derived from your password, there's no way to decrypt these notes if you forget your password.
      For this reason, Standard Notes cannot offer a password reset option. You <strong>must</strong> make sure to store or remember your password.
